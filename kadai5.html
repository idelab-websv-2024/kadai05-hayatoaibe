<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>createElement, appendChild</title>
    <script type="text/javascript">

      function checkHTTPURI(text){
        text = String(text); // indexOf accepts only string var
        let result = false;
        // indexOf: -1 = false, 0 = true
        // Boolean: 0 = false, 1 = true
        var isHTTP = Boolean(text.indexOf('http://') + 1);
        var isHTTPS = Boolean(text.indexOf('https://') + 1);
        if(isHTTP){
          result = isHTTP;
        }
        if(isHTTPS){
          result = isHTTPS;
        }
        return result;
      }

      function addItem()
      {
		  var bookmark = document.getElementById('bookmark');
		  var row = document.createElement('li');
      var uri_name = document.getElementById('linkname');
      var uri_href = document.getElementById('href');
      var anchored_row = document.createElement('a');

      row.innerHTML = uri_name.value;

      anchored_row.href = uri_href.value;
      anchored_row.target = "_blank";

      anchored_row.appendChild(row);

      if(checkHTTPURI(uri_href.value)){
      bookmark.appendChild(anchored_row);
      }
		  // 課題：
		  // row の中に id:linkname のテキストを入れてから
		  // bookmark に appendChild しなさい。

		  // 発展課題：
		  // その代わりに、createElement('a') でアンカータグを生成し、
		  // その innerHTML に id:linkname
		  // その href オプションに id:href を代入し、target オプションに "_blank" を指定して
		  // bookmark に appendChild しなさい。
		  // 生成例：<a href='www.tama.ac.jp' target='_blank'>多摩大学</a>
		  // （強制的に文字列を生成して、li タグの innerHTML に指定しても動きますが、
		  // 　いちおう、ちゃんと createElement してみましょう）
		  // https://www.w3schools.com/jsref/prop_link_href.asp

      }

    </script>
  </head>
  <body>
    <h1>createElement, appendChild</h1>
<hr />
    <input type="button" value="Add Name" onclick="addItem()">
    <br />
    <input type="text" id="linkname" value="" placeholder="多摩大学"><br />
	  <input type="text" id="href" value="" placeholder="https://www.tama.ac.jp">

    <ul id='bookmark'></ul>
  </body>
</html>
